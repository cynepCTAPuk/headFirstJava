<html>
 <head></head>
 <body>
  <h2>Области памяти: stack vs heap</h2> 
  <p><em><strong>Куча&nbsp;</strong></em>—&nbsp;область оперативной памяти, где хранятся объекты, созданные через оператор new.</p> 
  <p><em><strong>Стек&nbsp;</strong></em>—&nbsp;область оперативной памяти, где хранятся примитивы, ссылки&nbsp;и указатели на позиции&nbsp;в коде.</p> 
  <p>В программах на Java выделяют еще одну область памяти -&nbsp;metaspace (permgen), область памяти&nbsp;где хранится описание классов.</p> 
  <p>Давайте рассмотрим упрощенное поведение стека при выполнении небольшой программы:</p> 
  <pre><code class="language-java">public static void main(String[] args) {
        System.out.print("Hello world!!!");
        int sum = f(5);
    }

    private static int f(int a) {
        int d = a * 2;
        return d;
    }</code></pre> 
  <ol> 
   <li>старт программы,&nbsp;стек пуст</li> 
   <li>переходим к инструкции вызова функции print</li> 
   <li>сохраняем&nbsp;текущую позицию в функции main в стек</li> 
   <li>помещаем ссылку на "Hello world!!!" в стек</li> 
   <li>перемещаем курсор программы к началу функции&nbsp;print</li> 
   <li>достаем ссылку на&nbsp;"Hello world!!!" из стека</li> 
   <li>выполнение функции&nbsp;print (без разбора)</li> 
   <li>завершение&nbsp;функции&nbsp;print, достаем&nbsp;текущую позицию в функции main из стека</li> 
   <li>перемещаем курсор программы к текущей позиции&nbsp;функции main</li> 
   <li>переходим к инструкции вызова функции f</li> 
   <li>сохраняем&nbsp;текущую позицию в функции main в стек</li> 
   <li>сохраняем&nbsp;5 в стек</li> 
   <li>перемещаем курсор программы к началу функции&nbsp;f</li> 
   <li>достаем 5 из стека в локальную переменную</li> 
   <li>переходим к инструкции умножения на 2</li> 
   <li>умножаем 5 на 2, сохраняем результат в d</li> 
   <li>помещаем значение d в стек</li> 
   <li>достаем&nbsp;текущую позицию в функции main из стека</li> 
   <li>перемещаем курсор программы к текущей позиции&nbsp;функции main</li> 
   <li>достаем 10 из стека</li> 
   <li>сохраняем 10 в переменную&nbsp;sum&nbsp;</li> 
  </ol>
 </body>
</html>